/**
 * essential-gg / website
 *
 * Copyright Â© 2013-2024 Panascais ehf. and / or subsidiaries. All rights reserved.
 *
 * All information contained herein is, and remains the property
 * of Panascais ehf. and its suppliers, if any.
 * The intellectual and technical concepts contained herein are
 * proprietary to Panascais ehf. and its suppliers and may
 * be covered by European, U.S. and foreign patents, patents in process,
 * and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Panascais ehf.
 *
 * License:
 *
 * You are not allowed to copy, modify, merge, publish, distribute,
 * sublicense, and / or sell copies of the software.
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the software.
 */
!function(){function e(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=n(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw i}}}}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}System.register(["./framework-legacy-9b1bfef5a0d2b748.js","./animations-legacy-f3810bb52e6513ef.js","./instance-legacy-90a187b227a07142.js","./commons-legacy-1b70ed7075663cf9.js","./core-legacy-9aa202f93c9263e3.js"],(function(n,o){"use strict";var r,a,i,c,l,u,d,s,f,y,m,v,g,p,h,b,S,w,L,A,I,E,q,k,T,j,C,O,V;return{setters:[function(e){r=e.O,a=e.d,i=e.o,c=e.a,l=e.b,u=e.c,d=e.e,s=e.f,f=e.g,y=e.h,m=e.i,v=e.j,g=e.l,p=e.k,h=e.F,b=e.m,S=e.s,w=e.u,L=e.w,A=e.E,I=e.H,E=e.B},function(e){q=e.r,k=e.s},function(e){T=e.a,j=e.h,C=e.n,O=e.e,V=e.b},null,null],execute:function(){var n=function(e,t){var n=t.name,o=t.type,r=t.modVersion,a=t.gameVersion,i={Name:n,Type:o};r&&(i.Version=r),a&&(i["Game Version"]=a);var c=e.dataset.greinaEventLocation;c&&""!==c&&(i.Location=c),T.event({name:"Mod Download",metadata:i})},o=function(){var o,l=document.querySelectorAll('a[location-type="auto-installer"]'),u=[r.MACOS,r.WINDOWS,r.LINUX].find((function(e){return e===a.Device.platform})),d=t(l);try{for(d.s();!(o=d.n()).done;){var s=o.value,f=s.getAttribute("location-".concat(i[u]));s.href=null!=f?f:"/downloads"}}catch(y){d.e(y)}finally{d.f()}!function(){var e,o=t(document.querySelectorAll("a[data-mod-download]"));try{var r=function(){var t=e.value,o=t.dataset,r=o.gameVersion,a=o.modLoader,i=o.modVersion;if(delete t.dataset.modDownload,delete t.dataset.date,delete t.dataset.gameVersion,delete t.dataset.id,delete t.dataset.link,delete t.dataset.modLoader,delete t.dataset.modName,delete t.dataset.modVersion,t.dataset.greinaDisableLinkEvent="",!a||!r||!i)return 1;t.addEventListener("click",(function(){n(t,{name:"".concat(a," ").concat(r),type:a,gameVersion:r,modVersion:i})}))};for(o.s();!(e=o.n()).done;)r()}catch(y){o.e(y)}finally{o.f()}}(),function(e,o){if(void 0!==e){var r,a=t(o);try{var i=function(){var t=r.value;t.addEventListener("click",(function(){n(t,{name:"Installer ".concat(c[e]),type:"Installer"})}))};for(a.s();!(r=a.n()).done;)i()}catch(y){a.e(y)}finally{a.f()}}}(u,e(l))};new h({custom:{families:["FFFLauta:n4,n6","GeistMono","Geist"]}});var _=function(){S.storage.initialize({prefixes:["essential"],defaultPrefix:"essential",categories:[{id:"functional",enabled:!0}]}),S.storage.registerItem({key:"essential-functional-player",categoryId:"functional",type:S.StorageType.LOCAL,unmanaged:!0}),S.storage.registerItem({key:"cache-sprite-plyr",categoryId:"functional",type:S.StorageType.LOCAL,unmanaged:!0}),S.storage.registerItem({key:"language",categoryId:"functional",type:S.StorageType.COOKIE,unmanaged:!0}),function(){var e=S.storage.registerItem({id:"storage-accepted",categoryId:"functional",type:S.StorageType.LOCAL});void 0===e.value&&(e.value="false");var n=document.querySelector(".storage-banner"),o=document.querySelector(".storage__save"),r=document.querySelector(".storage__settings"),a=document.querySelector(".storage-settings"),i=document.querySelector(".storage-settings__button"),c=a.querySelectorAll("[data-category]");if(n&&o&&r&&a&&i){var l,u=S.storage.categories,d=t(c);try{var s=function(){var e=l.value,t=u.find((function(t){return t.id===e.dataset.category})),n=e.querySelector("switch-frame");t&&n?(n.active=t.enforced,n.disabled=t.enforced,n.properties.on("active",(function(e){t.enabled=e.value}))):e.remove()};for(d.s();!(l=d.n()).done;)s()}catch(f){d.e(f)}finally{d.f()}r.on("click",(function(){n.close(),a.open()})),o.on("click",(function(){e.value="true",n.close()})),i.on("click",(function(){e.value="true",a.close()})),"false"===e.value&&n.open()}}(),function(){var e=S.storage.registerItem({id:"outdated-accepted",categoryId:"functional",type:S.StorageType.LOCAL});void 0===e.value&&(e.value="false");var t=document.querySelector(".outdated");t&&"false"===e.value&&(t.open(),t.properties.on("active",(function(t){t.value||(e.value="true")})))}()},x="se",z="es";w.Runner.add({order:0,task:function(){"PRODUCTION"!==V||window.location.hostname===[z,x,"n","ti","a","l",".".concat("gg")].join("")||(document.body.innerHTML="",0)?(L.setupDeviceClasses(),l(),u(),d(),s(),f(),y(),m(),v(),g.define(),p(),L.panascaisConsoleHeader({project:"essential",hash:j,namespace:C.join("/"),environment:O<=A.PREVIEW?V.toLowerCase():void 0}),function(){var e=document.querySelector(".header"),n=document.querySelector(".header__navigation-button > button-frame"),o=document.querySelectorAll(".header__navigation-item");if(e&&n){var r,i=new I({header:e,trigger:n,animation:{engine:k,collapseThreshold:20,disableScrolling:!0}}),c=t(o);try{for(c.s();!(r=c.n()).done;)r.value.addEventListener("click",(function(){i.active=!1}))}catch(l){c.e(l)}finally{c.f()}window.addEventListener("hashchange",(function(){history.replaceState(void 0,void 0," ")})),""!==window.location.hash&&(a.Device.browser===E.SAFARI?setTimeout((function(){history.replaceState(void 0,void 0," ")}),200):history.replaceState(void 0,void 0," "))}}(),function(){var e=document.querySelector(".article--index");if(e){var t=document.createElement("button"),n=e.querySelector("ul");if(!n)return;t.classList.add("scroll-indicator"),t.ariaLabel="Scroll down content table",t.ariaHidden="true",n.append(t),t.addEventListener("click",(function(){n.scroll({top:200,behavior:"smooth"})}));var o=!1,r=function(){!1!==o?n.scrollTop>5?e.removeAttribute("scrollable"):e.setAttribute("scrollable",""):e.removeAttribute("scrollable")},a=function(){o=n.scrollHeight-n.clientHeight>10,r()};n.addEventListener("scroll",r),new ResizeObserver(a).observe(n),a()}}(),_(),b.lazyloadImages(),o(),function(){var e,n=t(document.querySelectorAll(".home-intro__player"));try{var o=function(){var t=e.value,n=Number(window.getComputedStyle(t).getPropertyValue("--ping-size").replaceAll("rem","")),o=function(){t.style.setProperty("--ping-size","".concat(Math.round(n*Number(window.getComputedStyle(document.body).fontSize.replaceAll("px",""))),"px"))};window.addEventListener("resize",o),o()};for(n.s();!(e=n.n()).done;)o()}catch(r){n.e(r)}finally{n.f()}}(),q(),function(){var e=function(){document.body.style.setProperty("--scrollbar-width",window.innerWidth-document.documentElement.clientWidth+"px")};window.addEventListener("resize",e),e()}()):document.body.innerHTML="".concat(["<","h","1",">","W","r","o","ng"," dom","ai","n","<","/h","1",">"].join(""),"</h1>")}})}}}))}();
